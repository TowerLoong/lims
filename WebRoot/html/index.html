<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>主页</title>
<link rel="stylesheet" type="text/css" href="../css/styles.css">
<link type="text/css" rel="stylesheet" href="../css/carousel.css">
<script src="../js/jquery.js"></script>
<script type="text/javascript">
	$(function(){
		$(".nav").mouseenter(function(){
			$(".nav_detail").show();
		});
		$(".nav").mouseleave(function(){
			$(".nav_detail").hide();
		});
	});
	Array.prototype.getIndex = function(el){
		for(var i=0,n=this.length;i<n;i++){
			if(this[i]==el){
				return i;
			}
		}
	};
	var users = {
		"user_name":new Array(),
		"user_pass":new Array(),
		"user_passCertail":new Array(),
		"user_email":new Array()
	};
	users.user_name.push('5201314','1','2');
	users.user_pass.push('1314520','11','22');
	window.onload = function() {
		var li = document.querySelectorAll(".nav li");
		for(var i=0; i<li.length; i++) {
			li[i].onclick = function() {
				for(var j=0; j<li.length; j++) li[j].style["color"] = "white";
				this.style["color"] = "orange";
			}
		}
	}
	Array.prototype.contains = function ( needle ) {//扩展函数：数组中是否有某个值
  		for (i in this) {
    		if (this[i] == needle) return true;
 		 }
 		 return false;
	}
	var login = function(){
		document.getElementById('light').style.display="block";
		var hidden = document.createElement('div');
		hidden.className = 'coverElement';
		document.body.appendChild(hidden);
	}
	var closeLogin = function(){
		document.getElementById('light').style.display= 'none';
		var hidden = document.getElementsByClassName('coverElement');
		document.body.removeChild(hidden[0]);
	}
	var loginSubmit = function(){//登陆
		var username = document.getElementById('user').value,
			password = document.getElementById('pass').value;
//			console.log(users.user_name);
			if(users.user_name.contains(username)){
				if(users.user_pass[users.user_name.getIndex(username)] == password){
					alert('登陆成功');
					if(username == '5201314'){
						document.getElementsByClassName("lab_manage")[0].style.display="block";//是管理者账号，显示实验室管理
						document.getElementsByClassName("connectUs")[0].style.display = "none";//隐藏联系我们功能
					}
						
					
					var loge = document.getElementsByClassName('login_hint')[0];
					var loginedShow = document.getElementById('loginedShow');
					var showUser = loginedShow.children[4];
					showUser.innerHTML = '欢迎您！ '+username;
					loge.style.display = 'none';
					loginedShow.style.display = 'block';
					closeLogin();
				}else{
					alert("密码不正确!");
				}
				
			}else{
				alert('账号不存在');
			}
	}
	var reg = function(){//注册
		var username = document.getElementById('reg_user').value,
			password = document.getElementById('reg_pass').value,
			passCertain = document.getElementById('reg_passCertain').value,
			email = document.getElementById('reg_email').value;
			if(username!==""&&password!==""&&passCertain!==""&&email!==""){
				users.user_name.push(username);
				users.user_pass.push(password);
				users.user_passCertail.push(passCertain);
				users.user_email.push(email);
				alert('注册账号成功，请登陆！');
			}else{
				alert('请完善您的信息');
			}
			console.log(users);
	}
	var exitLogin = function(){
		document.getElementsByClassName("lab_manage")[0].style.display="none";//默认隐藏实验室管理
		document.getElementsByClassName("connectUs")[0].style.display="block";//默认显示联系我们
		var loge = document.getElementsByClassName('login_hint')[0];
		var loginedShow = document.getElementById('loginedShow'); 
		loge.style.display = 'block';
		loginedShow.style.display = 'none';
		window.location.href='index.html';
	}
</script>
</head>

<body>
	<div class="logo_sech" id="logo_search">
		<img  class="logo" src="../img/introduceimg/logo.png"/> 
		<div class="labname">科学计算与软件工程技术实验室</div>
        <a class="login_hint" href = "javascript:void(0)" onclick = "login()">登录</a>
       	<div id="loginedShow">
	       	<a href="javascript:void(0)" class="login_hint login_a" onclick="exitLogin()">退出</a>
	       	<a href="manager/manager.html" class="lab_manage" target="myframe1" >实验室管理</a>
	       	<a href="manager/connectUs.html" class="connectUs" target="myframe1" >联系我们</a>
	       	<a href="manager/personalSet.html" class="login_a"  target="myframe1">个人设置</a>
	       	<span class="login_hint">欢迎您！ 李鹏</span>
        </div>
        <
		<!--<div class="searchbox">
			<input type="text" placeholder="搜索从这里开始..."/>
			<button type="submit"><img src="../img/introduceimg/search.png"/></button>
		</div>-->
		<ul class="nav">
			<li><a href="firstpage.html" target="myframe1">首页</a></li>
			<li><a href="introduce.html" target="myframe1">简介</a></li>
			<li><a href="teacher.html" target="myframe1">师资</a></li>
			<li><a href="../jsp/joinus.jsp" target="myframe1">加入我们</a></li>
			<!--<div class="nav_detail">
				<div class="nav_introduce nav_all">
					<a href="introduce.html" target="myframe1">实验室介绍</a>
					<a href="">团队导师</a>
					<a href="">研究成果</a>
				</div>
				<div class="nav_all">
					<a href="">实验室介绍</a>
					<a href="">团队导师</a>
					<a href="">研究成果</a>
				</div>
				<div class="nav_joinus nav_all">
					<a href="introduce/lab_introduce.html" target="myframe1">实验室介绍</a>
					<a href="introduce/lab_introduce.html" target="myframe1">团队导师</a>
					<a href="introduce/lab_direct.html" target="myframe1">研究成果</a>
				</div>
			</div>-->
		</ul>
		
	</div>
	<div class="login-wrap" id="light">
		<div id="close1">
			<a href = "javascript:void(0)" class="close" onclick = "closeLogin()">关闭</a>
		</div>
		<div class="login-html">
			<input id="tab-1" type="radio" name="tab" class="sign-in" checked /><label for="tab-1" class="tab">登录</label>
			<input id="tab-2" type="radio" name="tab" class="sign-up" /><label for="tab-2" class="tab">注册</label>
			
			<div class="login-form">
				<div class="sign-in-htm">
					<div class="group">
						<label for="user" class="label">用户名</label>
						<input id="user" type="text" class="input" />
					</div>
					<div class="group">
						<label for="pass" class="label">密码</label>
						<input id="pass" type="password" class="input" data-type="password" />
					</div>
					<div class="group">
						<input id="check" type="checkbox" class="check" checked />
						<label for="check"><span class="icon"></span> 记住密码</label>
					</div>
					<div class="group">
						<input type="submit" class="button" onclick="loginSubmit()" value="登录" />
					</div>
					<div class="hr"></div>
					<div class="foot-lnk">
						<a href="#forgot">忘记密码?</a>
					</div>
				</div>
				<div class="sign-up-htm">
					<div class="group">
						<label for="reg_user" class="label">用户名</label>
						<input id="reg_user" type="text" class="input" />
					</div>
					<div class="group">
						<label for="reg_pass" class="label">密码</label>
						<input id="reg_pass" type="password" class="input" data-type="password" />
					</div>
					<div class="group">
						<label for="reg_passCertain" class="label">确认密码</label>
						<input id="reg_passCertain" type="password" class="input" data-type="password" />
					</div>
					<div class="group">
						<label for="reg_email" class="label">邮箱</label>
						<input id="reg_email" type="text" class="input" />
					</div>
					<div class="group">
						<input type="submit" class="button"  value="注册" onclick="reg()" />
					</div>
					<div class="hr"></div>
					<div class="foot-lnk">
						<a><label for="tab-1">已注册登录?</label></a>
					</div>
				</div>
			</div>
		</div>
		
	</div>
	<div id="fade" class="black_overlay">
		<iframe src="firstpage.html" name="myframe1" width="100%" height="100%"></iframe>
	</div> 
	<!-- 底部版权-->
        <!--<div class="footer">
			<p><a href="#">实验室简介</a><i>|</i><a href="#">最新公告</a><i>|</i><a href="#">加入我们</a><i>|</i>联系我们：18784028326</p>
			<p>Copyright&nbsp;&copy;2017&nbsp;-&nbsp;2020 物联网体系结构与应用版权所有&nbsp;&nbsp; &nbsp;&nbsp;</p>
		</div>-->
</body>
</html>

